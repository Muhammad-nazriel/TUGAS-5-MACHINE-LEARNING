:root{
  --brand:#a855f7;
  --soft:#fdf2f8;
  --brand-2:#ec4899;
  --accent:#22c55e;
  --danger:#ef4444;
  --card-shadow:0 8px 28px rgba(168,85,247,.22);
  --bg-grad:linear-gradient(180deg,#faf5ff 0%,#fdf2f8 40%,#ffffff 100%);
  --glass:rgba(255,255,255,.7);
  --glass-border:1px solid rgba(255,255,255,.5);
  --text:#1f2a44;
}

body{ background: #f9f5ff; color:#1f2a44; }
.navbar{ background: #7c3aed; box-shadow: 0 6px 18px rgba(124,58,237,.25); }
.navbar .navbar-brand{ letter-spacing:.3px; color:#fff; }
.navbar::after{ content:""; display:block; height:4px; background:#ec4899; opacity:.9; }

body::before{
  content:""; position:fixed; inset:0; pointer-events:none; z-index:-1;
  background:
    radial-gradient(18px 18px at 20% 15%, rgba(236,72,153,.06) 0, rgba(236,72,153,0) 70%),
    radial-gradient(22px 22px at 80% 30%, rgba(124,58,237,.06) 0, rgba(124,58,237,0) 70%),
    radial-gradient(16px 16px at 30% 80%, rgba(236,72,153,.05) 0, rgba(236,72,153,0) 70%),
    linear-gradient(#f9f5ff, #f8f3ff);
}

.card{ border: none; border-radius: 14px; background: var(--glass); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); transition: transform .15s ease, box-shadow .15s ease; }
.card.shadow-sm{ box-shadow: var(--card-shadow)!important; }
.card-header{ border-bottom: var(--glass-border); background: rgba(255,255,255,.6)!important; border-top-left-radius: 14px; border-top-right-radius: 14px; }
.card.accent{ position: relative; overflow: hidden; }
.card.accent::before{ content:""; position:absolute; left:0; top:0; height:4px; width:100%; background:#ec4899; }
.card:hover{ transform: translateY(-2px); box-shadow: 0 10px 32px rgba(124,58,237,.18)!important; }

.btn-primary{ background-color:#ec4899; border: none; box-shadow: 0 6px 14px rgba(236,72,153,.35); }
.btn-primary:hover{ filter: brightness(1.05); transform: translateY(-1px); }
.btn-primary:active{ transform: translateY(0); }
.btn-outline-secondary{ border-color:#e9d5ff; color:#6b21a8; }
.btn-outline-secondary:hover{ background:#fce7f3; color:#6b21a8; }

footer{ position: sticky; bottom: 0; background: rgba(255,255,255,.85)!important; backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
img{ background: #fff; padding: 8px; border-radius: 12px; box-shadow: 0 8px 18px rgba(2,6,23,.08); }

label.form-label{ font-weight: 700; color:#4c1d95; }
input.form-control, select.form-select{ border-color:#e9d5ff; border-radius: 10px; }
input.form-control:focus, select.form-select:focus{ border-color: #a855f7; box-shadow: 0 0 0 .25rem rgba(168,85,247,.25); }

.alert-danger{ background: rgba(244,63,94,.12); color:#9f1239; border:1px solid rgba(244,63,94,.28); border-radius: 12px; }
.alert-success{ background: rgba(34,197,94,.12); color:#14532d; border:1px solid rgba(34,197,94,.28); border-radius: 12px; }

main .card-body{ background: transparent; }

.badge-soft{ display:inline-block; padding:.4rem .6rem; border-radius: 999px; background: rgba(236,72,153,.14); color:#a21caf; font-weight:600; }

.nav-gradient{ background: #7c3aed; }

.section-title{ font-weight:800; color:#3b0764; }

/* Animations */
@keyframes fadeSlideIn{
  0%{ opacity:0; transform: translateY(8px); }
  100%{ opacity:1; transform: translateY(0); }
}
.result-anim{ animation: fadeSlideIn .45s ease both; }
.alert{ transition: box-shadow .2s ease, transform .2s ease; }
.alert:hover{ transform: translateY(-1px); box-shadow: 0 8px 20px rgba(2,6,23,.08); }

@media (max-width: 576px){
  .navbar{ box-shadow: 0 4px 12px rgba(124,58,237,.22); }
  .container{ padding-left: 16px; padding-right: 16px; }
  .card-body{ padding: 1rem 1rem; }
  label.form-label{ font-size: .95rem; }
  input.form-control, select.form-select{ min-height: 44px; font-size: 1rem; }
  .btn{ min-height: 44px; font-weight: 600; }
  .btn-primary{ width: 100%; }
  .row.g-3{ --bs-gutter-y: .75rem; --bs-gutter-x: .75rem; }
  .collapse.show img{ max-height: 220px; object-fit: contain; }
  main{ padding-bottom: calc(env(safe-area-inset-bottom, 16px) + 72px); }
}

@media (max-width: 768px){
  .navbar .navbar-brand{ font-size: 1rem; }
  .card-header h5, .card-header h6{ font-size: 1rem; }
}

@media (max-width: 992px){
  .collapse.show img{ max-height: 260px; }
}

@media (hover: none){
  .card:hover{ transform:none; box-shadow: var(--card-shadow)!important; }
}

.sticky-bar{ position: fixed; left:0; right:0; bottom:0; z-index: 1040; background: rgba(255,255,255,.9); backdrop-filter: blur(6px); box-shadow: 0 -6px 18px rgba(2,6,23,.06); }

/* Dark Mode */
body.dark{ background:#0b1020; color:#e5e7eb; }
body.dark .navbar{ background:#111827; box-shadow: 0 6px 18px rgba(0,0,0,.3); }
body.dark .navbar::after{ background:#ec4899; opacity:1; }
body.dark::before{ display:none; }
body.dark.bg-light{ background:#0b1020!important; }
body.dark .card{ background: rgba(17,24,39,.6); border: 1px solid rgba(148,163,184,.18); }
body.dark .card-header{ background: rgba(17,24,39,.75)!important; border-bottom: 1px solid rgba(148,163,184,.2); }
body.dark .card.accent::before{ background:#ec4899; }
body.dark label.form-label{ color:#e5e7eb; }
body.dark input.form-control, body.dark select.form-select{ background: rgba(30,41,59,.7); color:#e5e7eb; border-color:#475569; }
body.dark input.form-control:focus, body.dark select.form-select:focus{ border-color:#a855f7; box-shadow: 0 0 0 .25rem rgba(168,85,247,.25); }
body.dark .btn-outline-secondary{ border-color:#475569; color:#e5e7eb; }
body.dark .btn-outline-secondary:hover{ background:#1f2937; }
body.dark footer{ background: rgba(17,24,39,.85)!important; color:#cbd5e1; }
body.dark img{ background:#0b1220; box-shadow: 0 8px 18px rgba(0,0,0,.35); }
body.dark .alert-danger{ background: rgba(239,68,68,.12); color:#fecaca; border-color: rgba(239,68,68,.35); }
body.dark .alert-success{ background: rgba(34,197,94,.12); color:#bbf7d0; border-color: rgba(34,197,94,.35); }
body.dark .badge-soft{ background: rgba(236,72,153,.18); color:#f0abfc; }
body.dark .sticky-bar{ background: rgba(17,24,39,.9); }
body.dark, body.dark p, body.dark span, body.dark small, body.dark h1, body.dark h2, body.dark h3, body.dark h4, body.dark h5, body.dark h6{ color:#e5e7eb; }
body.dark .text-muted{ color:#cbd5e1!important; }
body.dark input::placeholder, body.dark textarea::placeholder{ color:#94a3b8; }
body.dark .form-text{ color:#cbd5e1!important; }
body.dark .navbar .navbar-brand{ color:#fff!important; }
body.dark a{ color:#93c5fd; }
body.dark .modal-content{ background:#111827; color:#e5e7eb; border:1px solid #334155; }
body.dark .card p, body.dark .card span, body.dark .card label, body.dark .card .form-text, body.dark .card h1, body.dark .card h2, body.dark .card h3, body.dark .card h4, body.dark .card h5, body.dark .card h6{ color:#e5e7eb; }

/* Mobile: move theme toggle to top-right */
@media (max-width: 576px){
  #theme-toggle{ position: fixed; top: 12px; right: 12px; z-index: 1050; backdrop-filter: blur(6px); background: rgba(255,255,255,.4); }
  body.dark #theme-toggle{ background: rgba(17,24,39,.6); }
}
